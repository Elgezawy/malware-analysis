# malware-analysis

malware is executabile or binary that is malicious by nature 
attackers used malwares for >
1- spy on target > remote code execution RATs - keylogger
2- Data exfilteration
3- Data encryption and destruction > rasomware
4- download additional malware

malware analysis is the process of analysing malware sample/binary and extract as much information 
this info will help yo understand the scope of the fuctionality of the  malware
( how system infected {target or phishing} and how to defened in futher ) 
how malware communicate withe attacker C2C server
show registery - new files - ip - url (iocs) to generate signature

types of malware analysis:
1-static analysis: without execution >> extract extracte metadata strings - PE header
2-dynnamic analysis: execute malware and analyzing its functionality and behavior >> what it is doing : done by debugger (idapro)
3-code analysis: revrse engineering assembly code
4-behavioural analysis: analyzing and monitoring the malware after execution ( process - registry - network - file - exfilteratr - domain - ip - DNS )

install sandbox >>
1-install laset updated hypervisor with network configurtion HOST only
2-no usb / take snapshots
3-compressed the sample with password
4-disaple sharing folers - windows defender - updates
5-set-ExecutionPlicy unrestricted
install FLARE vm fire eys : windows malware analysis destribution with tools
unistall vm guest addition >> will decress the performance
2-Fakenet >> run as admin 
  you can edit setting from fakenet.cfg
  like dump output : yes >> will saved all traffic in pcap file
  
# static analysis
-file type : targrt os , archticture(x32,x64) , formate (dll,exe)
-malware : hash of it after and before execution
-strings : idea of what that malwar can do
-packing and obfustication : technigues used to prevent detection >> packer = UPX
-PE header : malware fuctionality

........................................................................
lets take a sample 
1- HxD - hex editor : view ther pe header and file header for file signature
MZ [4D 5A] >> file exeutabile
PE [50 45] >> PE header 
signature >> this program can't run in DOS mode
2- Exeifo PE: detect if the exeutable has been packed and the paker version and how ro unpacked
3- pestudio : lot of info
    - strigs
    - hashs mdf, etc
    - first byte in text - hex
    - file type >> dynnamic link library dll
    - cpu >> architecure 32 - 64 bit
4- PEID >> strings - disassembler 
hashing sample for identifcation >> we can check it in virus total - urlscan

string analysis : the process of extracting readable characters and words from malware >> for malware functionality
types of strings we are looking for is:
  1- file names
  2- URLs domain connected to attacker cnc
  3- ips 
  4- Registry keys >> setting up preistance 
 attacker may injuct fake or garbage strings 
 
 
 PAKERS :tool comprised the malware
 attacker use packers to obfusticate the content of malware > this make it hard to analysis
 Exeifo PE : used to detect paker and how to unpacked >> UPX 
 
